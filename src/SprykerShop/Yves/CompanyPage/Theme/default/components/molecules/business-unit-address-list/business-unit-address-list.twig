{% extends model('component') %}

{% define config = {
    name: 'business-unit-address-list',
    id: 'company_business_unit_form_address_collection',
    tag: 'div'
} %}

{% define data = {
    field: required,
} %}

{% block body %}
    <div class="grid grid--justify">
        <p class="{{ config.name }}__title col">
            {{ 'company.account.address.assigned' | trans }}
        </p>
        <div class="col">
            <a class="button" href="{{url('company/address/create')}}">{{ 'company.account.add_new_address' | trans }}</a>
        </div>
    </div>
    <ul class="{{ config.name }}__list spacing-y">
        {% set assignedChecked = 0 %}
        {% for key, item in data.field.children %}
            {% if item.vars.checked %}
                {% set assignedChecked = 1 %}
                <li class="{{ config.name }}__item spacing-y">
                    {% include molecule('business-unit-address-item', 'CompanyPage') with {
                        data: {
                            address: item,
                            idBusinessUnit: data.idBusinessUnit
                        }
                    } only %}
                </li>
            {% endif %}
        {% endfor %}
        {% if assignedChecked == 0 %}
            <li class="{{ config.name }}__item spacing-y--inner text-center">
                {{ 'company.account.address.assigned.empty' | trans }}
            </li>
        {% endif %}
    </ul>

    <p class="{{ config.name }}__title">
        {{ 'company.account.address.unassigned' | trans }}
    </p>
    <ul class="{{ config.name }}__list spacing-y">
        {% set assignedChecked = 0 %}
        {% for key, item in data.field.children %}
            {% if not item.vars.checked %}
                {% set assignedChecked = 1 %}
                <li class="{{ config.name }}__item spacing-y">
                    {% include molecule('business-unit-address-item', 'CompanyPage') with {
                        data: {
                            address: item,
                            idBusinessUnit: data.idBusinessUnit
                        }
                    } only %}
                </li>
            {% endif %}
        {% endfor %}
        {% if assignedChecked == 0 %}
            <li class="{{ config.name }}__item spacing-y--inner text-center">
                {{ 'company.account.address.unassigned.empty' | trans }}
            </li>
        {% endif %}
    </ul>
{% endblock %}
