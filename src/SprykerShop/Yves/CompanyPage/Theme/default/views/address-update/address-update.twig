{% extends template('page-layout-company', 'CompanyPage') %}

{% define data = {
    form: _view.form,
    idCompanyBusinessUnit: _view.idCompanyBusinessUnit|default(''),
    title: 'company.account.address' | trans,
    activePage: 'business-unit'
} %}

{% block breadcrumbs %}
    {% include molecule('breadcrumb') with {
        data: {
            steps: [{
                label: 'customer.account' | trans,
            }, {
                label: 'company.account.business_unit' | trans,
            }]}
    } only %}
{% endblock %}

{% block companyContent %}
    <div class="box">
        {% set buIndexUrl = url('company/business-unit/update', { id: data.idCompanyBusinessUnit }) %}
        {% set buListUrl = url('company/business-unit') %}
        {% include molecule('form') with {
            data: {
                title: 'company.account.edit_address_information' | trans,
                form: data.form,
                options: {
                    action: url('company/address/update', { idCompanyBusinessUnit: data.idCompanyBusinessUnit })
                },
                layout: {
                    address1: 'col col--sm-12 col--lg-10',
                    address2: 'col col--sm-12 col--lg-2',
                    zip_code: 'col col--sm-12 col--lg-4',
                    city: 'col col--sm-12 col--lg-4',
                    iso2code: 'col col--sm-12 col--lg-4'
                },
                submit: {
                    enable: true
                },
                cancel: {
                    enable: true,
                    url: data.idCompanyBusinessUnit ? buIndexUrl : buListUrl,
                    text: 'general.back.button' | trans
                }
            }
        } only %}
    </div>
{% endblock %}
